SUMMARY="Standardized interface for PCI access"
DESCRIPTION="Standardized interface for accessing PCI devices."
HOMEPAGE="http://xcb.freedesktop.org/"
COPYRIGHT="IBM Corporation 2006, 2007
Eric Anholt 2006
Mark Kettenis 2011
Robert Millan 2012
2007, 2008, 2009, 2011, 2012, 2013 Oracle and/or its affiliates.
2009, 2012 Red Hat, Inc."
LICENSE="MIT"
REVISION="1"
SOURCE_URI="git+git://anongit.freedesktop.org/xorg/lib/libpciaccess#4f1ac52e828eed1c410ee66304fcb7a17f25da40"
CHECKSUM_SHA256="50d5686b79019ccea08bcbd7b02fe5a40634abcfd4146b6e75c6420cc170e9d9"
SOURCE_DIR="libpciaccess-$portVersion"
PATCHES="libpciaccess-$portVersion.patchset"

ARCHITECTURES="?x86_gcc2 ?x86 x86_64"
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	libpciaccess$secondaryArchSuffix = $portVersion
	lib:libpciaccess$secondaryArchSuffix = 0.11.1 compat >= 0
	"
REQUIRES="
	haiku$secondaryArchSuffix
	"

PROVIDES_devel="
	libpciaccess${secondaryArchSuffix}_devel = $portVersion
	devel:libpciaccess$secondaryArchSuffix = 0.11.1 compat >= 0
	"
REQUIRES_devel="
	libpciaccess$secondaryArchSuffix == $portVersion base
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel
	devel:util_macros$secondaryArchSuffix
	"
BUILD_PREREQUIRES="
	cmd:aclocal
	cmd:autoconf
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:libtool
	cmd:make
	cmd:pkg_config$secondaryArchSuffix
	"

BUILD()
{
	autogen.sh
	runConfigure ./configure
	make $jobArgs
}

INSTALL()
{
	make install
	rm $libDir/*.la

	prepareInstalledDevelLib libpciaccess
	fixPkgconfig

	packageEntries devel \
		$developDir
}
